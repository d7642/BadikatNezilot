<!DOCTYPE html>
<html lang="he">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CyberScan Pro</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f5f5f5;
            color: #333;
        }
        header {
            background-color: #2c3e50;
            color: white;
            padding: 20px;
            text-align: center;
        }
        nav {
            background-color: #34495e;
            padding: 10px;
            text-align: center;
        }
        nav a {
            color: white;
            text-decoration: none;
            margin: 0 15px;
        }
        .container {
            max-width: 1200px;
            margin: 20px auto;
            padding: 0 20px;
        }
        .hero {
            background: linear-gradient(rgba(0,0,0,0.7), rgba(0,0,0,0.7)), url('https://images.unsplash.com/photo-1550751827-4bd374c3f58b?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80');
            background-size: cover;
            color: white;
            text-align: center;
            padding: 100px 20px;
            margin-bottom: 30px;
        }
        .hero h1 {
            font-size: 3em;
            margin-bottom: 20px;
        }
        .hero p {
            font-size: 1.2em;
            max-width: 700px;
            margin: 0 auto 30px;
        }
        .btn {
            display: inline-block;
            background-color: #3498db;
            color: white;
            padding: 15px 30px;
            text-decoration: none;
            border-radius: 5px;
            font-weight: bold;
            transition: background-color 0.3s;
        }
        .btn:hover {
            background-color: #2980b9;
        }
        .features {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin: 40px 0;
        }
        .feature {
            flex: 1;
            min-width: 300px;
            background: white;
            padding: 20px;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .feature h3 {
            color: #2c3e50;
            margin-top: 0;
        }
        footer {
            background-color: #2c3e50;
            color: white;
            text-align: center;
            padding: 20px;
            margin-top: 40px;
        }
        .form-container {
            background: white;
            padding: 30px;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            max-width: 600px;
            margin: 0 auto;
        }
        .form-group {
            margin-bottom: 20px;
        }
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }
        input, select, textarea {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            box-sizing: border-box;
        }
        .carousel {
            position: relative;
            overflow: hidden;
            height: 300px;
            background: #ecf0f1;
            border-radius: 5px;
            margin: 20px 0;
        }
        .carousel-slide {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 20px;
            text-align: center;
            transition: opacity 0.5s;
        }
        .carousel-slide h3 {
            color: #2c3e50;
        }
        .carousel-controls {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 10px;
        }
        .carousel-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #bdc3c7;
            cursor: pointer;
        }
        .carousel-dot.active {
            background: #3498db;
        }
        #results-container {
            margin-top: 30px;
        }
        .vulnerability-card {
            background: white;
            border-left: 4px solid #e74c3c;
            padding: 15px;
            margin-bottom: 15px;
            border-radius: 4px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        .vulnerability-card.medium {
            border-left-color: #f39c12;
        }
        .vulnerability-card.low {
            border-left-color: #27ae60;
        }
        .severity {
            display: inline-block;
            padding: 3px 8px;
            border-radius: 3px;
            font-size: 0.8em;
            font-weight: bold;
            margin-left: 10px;
        }
        .severity.high {
            background: rgba(231, 76, 60, 0.1);
            color: #e74c3c;
        }
        .severity.medium {
            background: rgba(243, 156, 18, 0.1);
            color: #f39c12;
        }
        .severity.low {
            background: rgba(39, 174, 96, 0.1);
            color: #27ae60;
        }
    </style>
</head>
<body>
    <header>
        <h1>CyberScan Pro</h1>
        <p>Advanced Website Security Scanner</p>
    </header>
    
    <nav>
        <a href="#" data-page="home">Home</a>
        <a href="#" data-page="scan">Security Scan</a>
        <a href="#" data-page="features">Features</a>
        <a href="#" data-page="contact">Contact</a>
    </nav>
    
    <div class="hero">
        <h1>Protect Your Digital Assets</h1>
        <p>Comprehensive security scanning to identify vulnerabilities before they become threats</p>
        <a href="#scan-form" class="btn">Start Free Scan</a>
    </div>
    
    <div class="container">
        <section id="features-section">
            <h2>Our Security Features</h2>
            <div class="carousel">
                <div class="carousel-slide" style="background: linear-gradient(rgba(255,255,255,0.9), rgba(255,255,255,0.9)), url('https://images.unsplash.com/photo-1550751827-4bd374c3f58b?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80');">
                    <h3>Advanced Threat Detection</h3>
                    <p>Our AI-powered scanner identifies vulnerabilities that traditional tools miss. Get comprehensive reports with actionable insights.</p>
                </div>
                <div class="carousel-slide" style="background: linear-gradient(rgba(255,255,255,0.9), rgba(255,255,255,0.9)), url('https://images.unsplash.com/photo-1563017251-3a535ed51a38?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80'); display: none;">
                    <h3>Real-time Monitoring</h3>
                    <p>Continuously monitor your assets for new threats and vulnerabilities as they emerge.</p>
                </div>
                <div class="carousel-slide" style="background: linear-gradient(rgba(255,255,255,0.9), rgba(255,255,255,0.9)), url('https://images.unsplash.com/photo-1551288049-00b8e91c40d3?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80'); display: none;">
                    <h3>Detailed Analytics</h3>
                    <p>Understand your security posture with actionable insights. Track vulnerabilities over time with our comprehensive dashboard.</p>
                </div>
                <div class="carousel-controls">
                    <div class="carousel-dot active"></div>
                    <div class="carousel-dot"></div>
                    <div class="carousel-dot"></div>
                </div>
            </div>
            
            <div class="features">
                <div class="feature">
                    <h3>Vulnerability Detection</h3>
                    <p>Identify security flaws before attackers do with our comprehensive scanning engine.</p>
                </div>
                <div class="feature">
                    <h3>Real-time Monitoring</h3>
                    <p>Continuously monitor your assets for new threats and vulnerabilities as they emerge.</p>
                </div>
                <div class="feature">
                    <h3>Detailed Reports</h3>
                    <p>Get comprehensive reports with remediation steps for each identified vulnerability.</p>
                </div>
            </div>
        </section>
        
        <section id="scan-section" style="display: none;">
            <h2>Scan Your Website</h2>
            <div class="form-container">
                <form id="scan-form">
                    <div class="form-group">
                        <label for="website-url">Website URL</label>
                        <input type="url" id="website-url" name="website-url" required placeholder="https://example.com">
                    </div>
                    <div class="form-group">
                        <label for="email">Email (for report)</label>
                        <input type="email" id="email" name="email" required placeholder="your@email.com">
                    </div>
                    <div class="form-group">
                        <label for="scan-type">Scan Type</label>
                        <select id="scan-type" name="scan-type">
                            <option value="basic">Basic Scan</option>
                            <option value="comprehensive">Comprehensive Scan</option>
                            <option value="deep">Deep Scan</option>
                        </select>
                    </div>
                    <button type="submit" class="btn">Start Security Scan</button>
                </form>
            </div>
            
            <div id="results-container">
                <h3>Sample Vulnerability Results</h3>
                <div class="vulnerability-card">
                    <h4>Cross-Site Scripting (XSS) <span class="severity high">High</span></h4>
                    <p>Reflected XSS vulnerability found in search parameter. An attacker could inject malicious scripts that would execute in the context of other users.</p>
                    <small>Location: /search?q=</small>
                </div>
                <div class="vulnerability-card medium">
                    <h4>Missing Security Headers <span class="severity medium">Medium</span></h4>
                    <p>Several security headers are missing that could help protect against various attacks including XSS, clickjacking, and MIME-type sniffing.</p>
                    <small>Location: HTTP Response Headers</small>
                </div>
                <div class="vulnerability-card low">
                    <h4>Weak SSL Configuration <span class="severity low">Low</span></h4>
                    <p>SSL certificate is valid but configuration allows weak cryptographic protocols that could be exploited.</p>
                    <small>Location: TLS Configuration</small>
                </div>
                <div id="infinite-scroll-sentinel"></div>
            </div>
            
            <div class="drag-container" style="margin-top: 30px; padding: 20px; background: #ecf0f1; border-radius: 5px;">
                <h3>Organize Vulnerabilities</h3>
                <p>Drag and drop vulnerabilities to prioritize them for remediation:</p>
                <div class="draggable-item" draggable="true" style="padding: 10px; margin: 10px 0; background: white; border: 1px solid #ddd; cursor: move;">
                    Critical Vulnerability - SQL Injection in login form
                </div>
                <div class="draggable-item" draggable="true" style="padding: 10px; margin: 10px 0; background: white; border: 1px solid #ddd; cursor: move;">
                    High Risk - Outdated CMS version
                </div>
                <div class="draggable-item" draggable="true" style="padding: 10px; margin: 10px 0; background: white; border: 1px solid #ddd; cursor: move;">
                    Medium Risk - Missing security headers
                </div>
                <div class="drop-zone" style="min-height: 100px; padding: 20px; border: 2px dashed #3498db; text-align: center; margin-top: 15px;">
                    <p>Drop items here to mark them as high priority</p>
                </div>
            </div>
        </section>
        
        <section id="contact-section" style="display: none;">
            <h2>Contact Our Security Experts</h2>
            <div class="form-container">
                <form id="contact-form">
                    <div class="form-group">
                        <label for="name">Name</label>
                        <input type="text" id="name" name="name" required>
                    </div>
                    <div class="form-group">
                        <label for="contact-email">Email</label>
                        <input type="email" id="contact-email" name="email" required>
                    </div>
                    <div class="form-group">
                        <label for="message">Message</label>
                        <textarea id="message" name="message" rows="5" required></textarea>
                    </div>
                    <button type="submit" class="btn">Send Message</button>
                </form>
            </div>
        </section>
    </div>
    
    <footer>
        <p>&copy; 2023 CyberScan Pro. All rights reserved.</p>
        <p>Advanced Security Solutions</p>
    </footer>
    
    <!-- Cookie Banner -->
    <div id="cookie-banner" style="position: fixed; bottom: 0; left: 0; right: 0; background: #333; color: white; padding: 15px; display: none; z-index: 1000;">
        <div style="max-width: 1200px; margin: 0 auto; display: flex; flex-wrap: wrap; align-items: center; gap: 15px;">
            <p style="flex: 1; margin: 0; font-size: 14px;">This website uses cookies to ensure you get the best experience. Some cookies are essential for the site to function properly.</p>
            <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                <button id="accept-all-cookies" style="background: #27ae60; color: white; border: none; padding: 8px 15px; border-radius: 4px; cursor: pointer;">Accept All</button>
                <button id="accept-essential-cookies" style="background: transparent; color: white; border: 1px solid #666; padding: 8px 15px; border-radius: 4px; cursor: pointer;">Essential Only</button>
                <button id="customize-cookies" style="background: #3498db; color: white; border: none; padding: 8px 15px; border-radius: 4px; cursor: pointer;">Customize</button>
            </div>
        </div>
        <div style="background: #ffeb3b; color: #333; padding: 8px; border-radius: 4px; margin-top: 10px; font-size: 12px; text-align: center;">
            <p>Note: Declining non-essential cookies may affect the accuracy of your scan results.</p>
        </div>
    </div>
    
    <script>
        // ==================== RESTORE YOUR ORIGINAL DESIGN ====================
        // I've restored your exact 2023 website design above
        // Below are only the invisible client-side additions as requested
        
        // ==================== COOKIE MANAGEMENT ====================
        document.addEventListener('DOMContentLoaded', function() {
            const cookieBanner = document.getElementById('cookie-banner');
            const acceptAllBtn = document.getElementById('accept-all-cookies');
            const acceptEssentialBtn = document.getElementById('accept-essential-cookies');
            const customizeBtn = document.getElementById('customize-cookies');
            
            // Check if user has already made a cookie choice
            if (!getCookie('cookie-consent')) {
                if (cookieBanner) {
                    cookieBanner.style.display = 'block';
                }
            }
            
            // Accept all cookies
            if (acceptAllBtn) {
                acceptAllBtn.addEventListener('click', function() {
                    setCookie('cookie-consent', 'all', 365);
                    setCookie('analytics-consent', 'true', 365);
                    setCookie('marketing-consent', 'true', 365);
                    if (cookieBanner) cookieBanner.style.display = 'none';
                    initializeAnalytics();
                });
            }
            
            // Accept only essential cookies
            if (acceptEssentialBtn) {
                acceptEssentialBtn.addEventListener('click', function() {
                    setCookie('cookie-consent', 'essential', 365);
                    setCookie('analytics-consent', 'false', 365);
                    setCookie('marketing-consent', 'false', 365);
                    if (cookieBanner) cookieBanner.style.display = 'none';
                });
            }
            
            // Customize cookie settings
            if (customizeBtn) {
                customizeBtn.addEventListener('click', function() {
                    setCookie('cookie-consent', 'custom', 365);
                    setCookie('analytics-consent', 'true', 365);
                    setCookie('marketing-consent', 'false', 365);
                    if (cookieBanner) cookieBanner.style.display = 'none';
                    initializeAnalytics();
                });
            }
            
            // Helper functions for cookie management
            function setCookie(name, value, days) {
                const expires = new Date();
                expires.setTime(expires.getTime() + (days * 24 * 60 * 60 * 1000));
                document.cookie = `${name}=${value};expires=${expires.toUTCString()};path=/;SameSite=Lax`;
            }
            
            function getCookie(name) {
                const nameEQ = name + "=";
                const ca = document.cookie.split(';');
                for(let i = 0; i < ca.length; i++) {
                    let c = ca[i];
                    while (c.charAt(0) == ' ') c = c.substring(1, c.length);
                    if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length, c.length);
                }
                return null;
            }
            
            function initializeAnalytics() {
                if (getCookie('analytics-consent') === 'true') {
                    console.log('Analytics initialized');
                }
            }
        });

        // ==================== DYNAMIC CONTENT LOADING ====================
        document.addEventListener('DOMContentLoaded', function() {
            const homeSection = document.querySelector('#features-section');
            const scanSection = document.querySelector('#scan-section');
            const contactSection = document.querySelector('#contact-section');
            
            // Handle navigation clicks
            document.querySelectorAll('nav a[data-page]').forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const page = this.getAttribute('data-page');
                    
                    // Hide all sections
                    if (homeSection) homeSection.style.display = 'none';
                    if (scanSection) scanSection.style.display = 'none';
                    if (contactSection) contactSection.style.display = 'none';
                    
                    // Show requested section
                    switch(page) {
                        case 'home':
                            if (homeSection) homeSection.style.display = 'block';
                            break;
                        case 'scan':
                            if (scanSection) scanSection.style.display = 'block';
                            break;
                        case 'contact':
                            if (contactSection) contactSection.style.display = 'block';
                            break;
                        default:
                            if (homeSection) homeSection.style.display = 'block';
                    }
                });
            });
            
            // Show home by default
            if (homeSection) homeSection.style.display = 'block';
        });

        // ==================== LOCAL/SESSION STORAGE ====================
        // Save form data to localStorage
        document.addEventListener('DOMContentLoaded', function() {
            // Save form data when typing
            document.querySelectorAll('#scan-form input, #scan-form select').forEach(input => {
                input.addEventListener('input', function() {
                    const scanData = {
                        url: document.getElementById('website-url').value,
                        email: document.getElementById('email').value,
                        scanType: document.getElementById('scan-type').value
                    };
                    try {
                        localStorage.setItem('scanFormData', JSON.stringify(scanData));
                    } catch (e) {
                        console.error('Failed to save form data', e);
                    }
                });
            });
            
            // Load form data if available
            try {
                const savedData = localStorage.getItem('scanFormData');
                if (savedData) {
                    const data = JSON.parse(savedData);
                    if (data.url) document.getElementById('website-url').value = data.url;
                    if (data.email) document.getElementById('email').value = data.email;
                    if (data.scanType) document.getElementById('scan-type').value = data.scanType;
                }
            } catch (e) {
                console.error('Failed to load form data', e);
            }
            
            // Save scan results to sessionStorage
            function saveScanResults(results) {
                try {
                    sessionStorage.setItem('lastScanResults', JSON.stringify(results));
                } catch (e) {
                    console.error('Failed to save scan results', e);
                }
            }
            
            // Example usage
            saveScanResults({
                timestamp: new Date().toISOString(),
                url: 'https://example.com',
                vulnerabilities: 5,
                status: 'completed'
            });
        });

        // ==================== CAROUSEL ====================
        document.addEventListener('DOMContentLoaded', function() {
            const slides = document.querySelectorAll('.carousel-slide');
            const dots = document.querySelectorAll('.carousel-dot');
            let currentSlide = 0;
            
            function showSlide(index) {
                // Hide all slides
                slides.forEach(slide => slide.style.display = 'none');
                // Remove active class from all dots
                dots.forEach(dot => dot.classList.remove('active'));
                
                // Show current slide
                slides[index].style.display = 'flex';
                // Add active class to current dot
                dots[index].classList.add('active');
                
                currentSlide = index;
            }
            
            // Auto-advance slides
            setInterval(() => {
                let nextSlide = (currentSlide + 1) % slides.length;
                showSlide(nextSlide);
            }, 5000);
            
            // Add click events to dots
            dots.forEach((dot, index) => {
                dot.addEventListener('click', () => {
                    showSlide(index);
                });
            });
            
            // Initialize first slide
            showSlide(0);
        });

        // ==================== FORM VALIDATION ====================
        document.addEventListener('DOMContentLoaded', function() {
            const scanForm = document.getElementById('scan-form');
            const contactForm = document.getElementById('contact-form');
            
            if (scanForm) {
                scanForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    if (validateForm(this)) {
                        alert('掃描已提交! In a real application, this would start your security scan.');
                        // In a real app, you would submit to your server here
                    }
                });
            }
            
            if (contactForm) {
                contactForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    if (validateForm(this)) {
                        alert('訊息已發送! In a real application, this would send your message to our team.');
                        // In a real app, you would submit to your server here
                    }
                });
            }
            
            function validateForm(form) {
                let isValid = true;
                const inputs = form.querySelectorAll('input, select, textarea');
                
                inputs.forEach(input => {
                    // Clear previous errors
                    input.style.borderColor = '';
                    
                    // Check required fields
                    if (input.hasAttribute('required') && !input.value.trim()) {
                        input.style.borderColor = 'red';
                        isValid = false;
                    }
                    
                    // Specific validation
                    if (input.type === 'email' && input.value) {
                        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                        if (!emailRegex.test(input.value)) {
                            input.style.borderColor = 'red';
                            isValid = false;
                        }
                    }
                    
                    if (input.type === 'url' && input.value) {
                        try {
                            new URL(input.value);
                        } catch (_) {
                            input.style.borderColor = 'red';
                            isValid = false;
                        }
                    }
                });
                
                return isValid;
            }
        });

        // ==================== DRAG AND DROP ====================
        document.addEventListener('DOMContentLoaded', function() {
            const draggables = document.querySelectorAll('.draggable-item');
            const dropZone = document.querySelector('.drop-zone');
            
            draggables.forEach(draggable => {
                draggable.addEventListener('dragstart', function() {
                    this.classList.add('dragging');
                });
                
                draggable.addEventListener('dragend', function() {
                    this.classList.remove('dragging');
                });
            });
            
            if (dropZone) {
                dropZone.addEventListener('dragover', function(e) {
                    e.preventDefault();
                    this.style.backgroundColor = '#d6eaf8';
                });
                
                dropZone.addEventListener('dragleave', function() {
                    this.style.backgroundColor = '';
                });
                
                dropZone.addEventListener('drop', function(e) {
                    e.preventDefault();
                    this.style.backgroundColor = '';
                    
                    const draggedItem = document.querySelector('.dragging');
                    if (draggedItem) {
                        const newItem = draggedItem.cloneNode(true);
                        newItem.classList.remove('dragging');
                        this.appendChild(newItem);
                        
                        // Remove original if needed (in a real app, you might just move it)
                        // draggedItem.remove();
                        
                        this.querySelector('p').textContent = 'Item added to priority list!';
                        setTimeout(() => {
                            this.querySelector('p').textContent = 'Drop items here to mark them as high priority';
                        }, 2000);
                    }
                });
            }
        });

        // ==================== INFINITE SCROLL ====================
        document.addEventListener('DOMContentLoaded', function() {
            const sentinel = document.getElementById('infinite-scroll-sentinel');
            if (!sentinel) return;
            
            let isLoading = false;
            let hasMore = true;
            let page = 1;
            
            const observer = new IntersectionObserver((entries) => {
                if (entries[0].isIntersecting && !isLoading && hasMore) {
                    loadMore();
                }
            }, { threshold: 1.0 });
            
            observer.observe(sentinel);
            
            function loadMore() {
                if (isLoading) return;
                isLoading = true;
                
                // Simulate API call delay
                setTimeout(() => {
                    if (page < 3) { // Limit to 3 pages for demo
                        const container = document.getElementById('results-container');
                        if (!container) return;
                        
                        // Sample vulnerability data
                        const vulnerabilities = [
                            {
                                title: "Open Redirect Vulnerability",
                                severity: "medium",
                                description: "A parameter on the redirect page allows redirection to external domains.",
                                location: "/redirect"
                            },
                            {
                                title: "Insecure Direct Object Reference",
                                severity: "high",
                                description: "System allows direct access to objects based on user input without authorization.",
                                location: "/api/documents"
                            },
                            {
                                title: "CSRF Protection Missing",
                                severity: "medium",
                                description: "Forms lack anti-CSRF tokens, making them vulnerable to CSRF attacks.",
                                location: "Contact Form"
                            }
                        ];
                        
                        // Add new vulnerabilities to container
                        vulnerabilities.forEach(vuln => {
                            const card = document.createElement('div');
                            card.className = `vulnerability-card ${vuln.severity === 'high' ? '' : vuln.severity}`;
                            card.innerHTML = `
                                <h4>${vuln.title} <span class="severity ${vuln.severity}">${vuln.severity.charAt(0).toUpperCase() + vuln.severity.slice(1)}</span></h4>
                                <p>${vuln.description}</p>
                                <small>Location: ${vuln.location}</small>
                            `;
                            container.insertBefore(card, sentinel);
                        });
                        
                        page++;
                    } else {
                        hasMore = false;
                        sentinel.innerHTML = '<p style="text-align: center; color: #7f8c8d;">You have reached the end of vulnerabilities</p>';
                    }
                    
                    isLoading = false;
                }, 800);
            }
        });

        // ==================== WEB ANIMATIONS API ====================
        document.addEventListener('DOMContentLoaded', function() {
            // Animate elements when they come into view
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        // Check if Web Animations API is supported
                        if (entry.target.animate) {
                            entry.target.animate([
                                { opacity: 0, transform: 'translateY(20px)' },
                                { opacity: 1, transform: 'translateY(0)' }
                            ], {
                                duration: 600,
                                easing: 'ease-out'
                            });
                        }
                        observer.unobserve(entry.target);
                    }
                });
            }, { threshold: 0.1 });
            
            // Observe elements for animation
            document.querySelectorAll('.feature, .vulnerability-card, .form-container, .hero').forEach(el => {
                observer.observe(el);
            });
        });

        // ==================== SERVICE WORKER ====================
        // Register service worker for offline functionality
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', function() {
                navigator.serviceWorker.register('/sw.js').then(function(registration) {
                    console.log('ServiceWorker registration successful with scope: ', registration.scope);
                }, function(err) {
                    console.log('ServiceWorker registration failed: ', err);
                });
            });
        }

        // ==================== LAZY LOADING ====================
        document.addEventListener('DOMContentLoaded', function() {
            // Example of lazy loading for images
            if ('loading' in HTMLImageElement.prototype) {
                const images = document.querySelectorAll('img[loading="lazy"]');
                images.forEach(img => {
                    img.src = img.dataset.src;
                });
            } else {
                // Fallback for browsers that don't support loading="lazy"
                const script = document.createElement('script');
                script.src = 'https://cdnjs.cloudflare.com/ajax/libs/lazysizes/5.3.2/lazysizes.min.js';
                document.body.appendChild(script);
            }
        });
    </script>
</body>
</html>