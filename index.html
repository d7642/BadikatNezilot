<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Multi-Language Website</title>
    <style>
        /* Cookie Consent Banner Styles */
        .cookie-banner {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: #fff;
            box-shadow: 0 -2px 10px rgba(0,0,0,0.1);
            padding: 20px;
            z-index: 10000;
            transform: translateY(100%);
            transition: transform 0.3s ease;
            border-top: 3px solid #007bff;
            font-family: Arial, sans-serif;
        }

        .cookie-banner.visible {
            transform: translateY(0);
        }

        .banner-content h3 {
            margin-top: 0;
            color: #333;
        }

        .cookie-options {
            margin: 15px 0;
        }

        .cookie-category {
            margin: 10px 0;
            display: flex;
            align-items: center;
        }

        .cookie-category input {
            margin-left: 10px;
        }

        [dir="ltr"] .cookie-category input {
            margin-left: 0;
            margin-right: 10px;
        }

        .cookie-category label {
            font-weight: 500;
        }

        .warning-message {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 4px;
            padding: 10px;
            margin: 15px 0;
            color: #856404;
        }

        .banner-actions {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-weight: 500;
            transition: background 0.2s;
        }

        .btn-primary {
            background: #007bff;
            color: white;
        }

        .btn-secondary {
            background: #6c757d;
            color: white;
        }

        .btn-outline {
            background: transparent;
            border: 1px solid #6c757d;
            color: #6c757d;
        }

        .btn:hover {
            opacity: 0.9;
        }

        /* Language Selector Styles */
        .language-selector {
            position: fixed;
            top: 20px;
            left: 20px;
            z-index: 9999;
        }

        [dir="ltr"] .language-selector {
            left: auto;
            right: 20px;
        }

        .language-toggle {
            background: #f8f9fa;
            border: 1px solid #ddd;
            padding: 8px 15px;
            border-radius: 4px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 500;
        }

        .language-toggle:hover {
            background: #e9ecef;
        }

        .language-dropdown {
            position: absolute;
            top: 100%;
            left: 0;
            background: white;
            border: 1px solid #ddd;
            border-radius: 4px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            width: 250px;
            max-height: 300px;
            overflow: hidden;
            z-index: 1000;
            display: none;
        }

        [dir="ltr"] .language-dropdown {
            left: auto;
            right: 0;
        }

        .language-dropdown.open {
            display: block;
        }

        .search-container {
            padding: 10px;
            border-bottom: 1px solid #eee;
        }

        .search-container input {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
            box-sizing: border-box;
        }

        .language-list {
            list-style: none;
            margin: 0;
            padding: 0;
            max-height: 200px;
            overflow-y: auto;
        }

        .language-list li {
            padding: 10px 15px;
            cursor: pointer;
            border-bottom: 1px solid #f5f5f5;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .language-list li:hover {
            background: #f8f9fa;
        }

        .language-list li.selected {
            background: #007bff;
            color: white;
        }

        .flag-icon {
            font-size: 18px;
        }

        [dir="rtl"] .language-list li {
            text-align: right;
        }

        /* Demo Content Styles */
        .content {
            max-width: 800px;
            margin: 100px auto 50px;
            padding: 20px;
            font-family: Arial, sans-serif;
        }

        .content h1, .content p {
            text-align: center;
        }

        /* Responsive Styles */
        @media (max-width: 768px) {
            .banner-actions {
                flex-direction: column;
            }
            
            .btn {
                width: 100%;
            }
            
            .language-dropdown {
                width: 200px;
            }
        }
    </style>
</head>
<body>
    <!-- Cookie Consent Banner -->
    <div id="cookieConsentBanner" class="cookie-banner">
        <div class="banner-content">
            <h3 id="cookieTitle">We value your privacy</h3>
            <p id="cookieDescription">We use cookies to enhance your browsing experience, analyze traffic, and personalize content. You can choose which cookies to accept:</p>
            
            <div class="cookie-options">
                <div class="cookie-category">
                    <input type="checkbox" id="essential" checked disabled>
                    <label for="essential" id="essentialLabel">Essential (always required)</label>
                </div>
                
                <div class="cookie-category">
                    <input type="checkbox" id="analytics" checked>
                    <label for="analytics" id="analyticsLabel">Analytics (help us improve our site)</label>
                </div>
                
                <div class="cookie-category">
                    <input type="checkbox" id="marketing" checked>
                    <label for="marketing" id="marketingLabel">Marketing (personalize ads)</label>
                </div>
            </div>
            
            <div class="warning-message">
                <p id="warningText">Note: Disabling certain cookies may affect the accuracy of personalized features and site performance.</p>
            </div>
            
            <div class="banner-actions">
                <button id="acceptAll" class="btn btn-primary">Accept All</button>
                <button id="acceptSelected" class="btn btn-secondary">Accept Selected</button>
                <button id="rejectAll" class="btn btn-outline">Reject All</button>
            </div>
        </div>
    </div>

    <!-- Language Selector -->
    <div class="language-selector">
        <button id="languageToggle" class="language-toggle">
            <span id="currentLanguage">×¢×‘×¨×™×ª</span>
            <i class="arrow-down">â–¼</i>
        </button>
        
        <div id="languageDropdown" class="language-dropdown">
            <div class="search-container">
                <input type="text" id="languageSearch" placeholder="×—×™×¤×•×© ×©×¤×”...">
            </div>
            <ul id="languageList" class="language-list"></ul>
        </div>
    </div>

    <!-- Demo Content -->
    <div class="content">
        <h1 id="welcomeText">×‘×¨×•×›×™× ×”×‘××™× ×œ××ª×¨× ×•</h1>
        <p id="introText">×–×” ×“×£ ×”×“×’××” ×œ//*[@data-translate="multiLanguage"] ××ª×¨ ×¢× ×ª×¨×’×•× ×œ×¨×‘×•×ª ×©×¤×•×ª</p>
        <p id="cookieStatus">××¦×‘ ×¢×•×’×™×•×ª: ×œ× × ×§×‘×¢</p>
    </div>

    <script>
        // Main script combining cookie consent and language selector
        (function() {
            // Cookie Consent Manager
            class CookieConsentManager {
                constructor() {
                    this.consentKey = 'cookieConsentPreferences';
                    this.init();
                }

                init() {
                    // Check if consent already exists
                    const existingConsent = this.getConsent();
                    
                    if (!existingConsent) {
                        // No consent found, show banner
                        this.showBanner();
                        this.bindEvents();
                    } else {
                        // Consent exists, apply preferences
                        this.applyConsent(existingConsent);
                        this.updateCookieStatus(existingConsent);
                    }
                }

                showBanner() {
                    const banner = document.getElementById('cookieConsentBanner');
                    if (banner) {
                        // Small delay to ensure DOM is ready
                        setTimeout(() => {
                            banner.classList.add('visible');
                        }, 500);
                    }
                }

                hideBanner() {
                    const banner = document.getElementById('cookieConsentBanner');
                    if (banner) {
                        banner.classList.remove('visible');
                    }
                }

                bindEvents() {
                    document.getElementById('acceptAll')?.addEventListener('click', () => {
                        this.setConsent({
                            essential: true,
                            analytics: true,
                            marketing: true,
                            timestamp: new Date().toISOString()
                        });
                    });

                    document.getElementById('acceptSelected')?.addEventListener('click', () => {
                        this.setConsent({
                            essential: true,
                            analytics: document.getElementById('analytics')?.checked || false,
                            marketing: document.getElementById('marketing')?.checked || false,
                            timestamp: new Date().toISOString()
                        });
                    });

                    document.getElementById('rejectAll')?.addEventListener('click', () => {
                        this.setConsent({
                            essential: true,
                            analytics: false,
                            marketing: false,
                            timestamp: new Date().toISOString()
                        });
                    });
                }

                setConsent(preferences) {
                    // Store preferences in localStorage
                    localStorage.setItem(this.consentKey, JSON.stringify(preferences));
                    
                    // Apply the consent settings
                    this.applyConsent(preferences);
                    
                    // Update status display
                    this.updateCookieStatus(preferences);
                    
                    // Hide the banner
                    this.hideBanner();
                    
                    // Dispatch event for other scripts to listen to
                    window.dispatchEvent(new CustomEvent('cookieConsentUpdated', {
                        detail: preferences
                    }));
                }

                getConsent() {
                    const consent = localStorage.getItem(this.consentKey);
                    return consent ? JSON.parse(consent) : null;
                }

                applyConsent(preferences) {
                    // Apply consent settings to the website functionality
                    if (preferences.analytics === false) {
                        // Disable analytics scripts
                        this.disableScripts('analytics');
                    }
                    
                    if (preferences.marketing === false) {
                        // Disable marketing scripts
                        this.disableScripts('marketing');
                    }
                    
                    // Always enable essential cookies
                    
                    // Dispatch event for other scripts
                    window.dispatchEvent(new CustomEvent('cookieConsentApplied', {
                        detail: preferences
                    }));
                }

                disableScripts(category) {
                    // This is a simplified example. In practice, you would:
                    // 1. Remove or block specific script tags
                    // 2. Prevent loading of third-party services
                    // 3. Clear any existing tracking cookies for that category
                    
                    console.log(`Disabling ${category} scripts`);
                }

                updateCookieStatus(preferences) {
                    const statusElement = document.getElementById('cookieStatus');
                    if (statusElement) {
                        const consent = this.getConsent();
                        if (consent) {
                            const analytics = consent.analytics ? '×××•×¤×©×¨' : '××•×©×‘×ª';
                            const marketing = consent.marketing ? '×××•×¤×©×¨' : '××•×©×‘×ª';
                            statusElement.textContent = `××¦×‘ ×¢×•×’×™×•×ª: ×× ×œ×™×˜×™×§×” ${analytics}, ×©×™×•×•×§ ${marketing}`;
                        } else {
                            statusElement.textContent = '××¦×‘ ×¢×•×’×™×•×ª: ×œ× × ×§×‘×¢';
                        }
                    }
                }
            }

            // Language Manager
            class LanguageManager {
                constructor() {
                    // List of 40+ popular languages with Hebrew as default
                    this.languages = [
                        { code: 'he', name: '×¢×‘×¨×™×ª', nativeName: '×¢×‘×¨×™×ª', country: 'IL', flag: 'ğŸ‡®ğŸ‡±' },
                        { code: 'en', name: 'English', nativeName: 'English', country: 'US', flag: 'ğŸ‡ºğŸ‡¸' },
                        { code: 'ar', name: 'Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©', nativeName: 'Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©', country: 'SA', flag: 'ğŸ‡¸ğŸ‡¦' },
                        { code: 'es', name: 'EspaÃ±ol', nativeName: 'EspaÃ±ol', country: 'ES', flag: 'ğŸ‡ªğŸ‡¸' },
                        { code: 'fr', name: 'FranÃ§ais', nativeName: 'FranÃ§ais', country: 'FR', flag: 'ğŸ‡«ğŸ‡·' },
                        { code: 'de', name: 'Deutsch', nativeName: 'Deutsch', country: 'DE', flag: 'ğŸ‡©ğŸ‡ª' },
                        { code: 'zh', name: 'ä¸­æ–‡', nativeName: 'ä¸­æ–‡', country: 'CN', flag: 'ğŸ‡¨ğŸ‡³' },
                        { code: 'ja', name: 'æ—¥æœ¬èª', nativeName: 'æ—¥æœ¬èª', country: 'JP', flag: 'ğŸ‡¯ğŸ‡µ' },
                        { code: 'ko', name: 'í•œêµ­ì–´', nativeName: 'í•œêµ­ì–´', country: 'KR', flag: 'ğŸ‡°ğŸ‡·' },
                        { code: 'ru', name: 'Ğ ÑƒÑÑĞºĞ¸Ğ¹', nativeName: 'Ğ ÑƒÑÑĞºĞ¸Ğ¹', country: 'RU', flag: 'ğŸ‡·ğŸ‡º' },
                        { code: 'pt', name: 'PortuguÃªs', nativeName: 'PortuguÃªs', country: 'PT', flag: 'ğŸ‡µğŸ‡¹' },
                        { code: 'it', name: 'Italiano', nativeName: 'Italiano', country: 'IT', flag: 'ğŸ‡®ğŸ‡¹' },
                        { code: 'tr', name: 'TÃ¼rkÃ§e', nativeName: 'TÃ¼rkÃ§e', country: 'TR', flag: 'ğŸ‡¹ğŸ‡·' },
                        { code: 'nl', name: 'Nederlands', nativeName: 'Nederlands', country: 'NL', flag: 'ğŸ‡³ğŸ‡±' },
                        { code: 'pl', name: 'Polski', nativeName: 'Polski', country: 'PL', flag: 'ğŸ‡µğŸ‡±' },
                        { code: 'uk', name: 'Ğ£ĞºÑ€Ğ°Ñ—Ğ½ÑÑŒĞºĞ°', nativeName: 'Ğ£ĞºÑ€Ğ°Ñ—Ğ½ÑÑŒĞºĞ°', country: 'UA', flag: 'ğŸ‡ºğŸ‡¦' },
                        { code: 'ro', name: 'RomÃ¢nÄƒ', nativeName: 'RomÃ¢nÄƒ', country: 'RO', flag: 'ğŸ‡·ğŸ‡´' },
                        { code: 'hu', name: 'Magyar', nativeName: 'Magyar', country: 'HU', flag: 'ğŸ‡­ğŸ‡º' },
                        { code: 'cs', name: 'ÄŒeÅ¡tina', nativeName: 'ÄŒeÅ¡tina', country: 'CZ', flag: 'ğŸ‡¨ğŸ‡¿' },
                        { code: 'sv', name: 'Svenska', nativeName: 'Svenska', country: 'SE', flag: 'ğŸ‡¸ğŸ‡ª' },
                        { code: 'da', name: 'Dansk', nativeName: 'Dansk', country: 'DK', flag: 'ğŸ‡©ğŸ‡°' },
                        { code: 'fi', name: 'Suomi', nativeName: 'Suomi', country: 'FI', flag: 'ğŸ‡«ğŸ‡®' },
                        { code: 'no', name: 'Norsk', nativeName: 'Norsk', country: 'NO', flag: 'ğŸ‡³ğŸ‡´' },
                        { code: 'el', name: 'Î•Î»Î»Î·Î½Î¹ÎºÎ¬', nativeName: 'Î•Î»Î»Î·Î½Î¹ÎºÎ¬', country: 'GR', flag: 'ğŸ‡¬ğŸ‡·' },
                        { code: 'th', name: 'à¹„à¸—à¸¢', nativeName: 'à¹„à¸—à¸¢', country: 'TH', flag: 'ğŸ‡¹ğŸ‡­' },
                        { code: 'vi', name: 'Tiáº¿ng Viá»‡t', nativeName: 'Tiáº¿ng Viá»‡t', country: 'VN', flag: 'ğŸ‡»ğŸ‡³' },
                        { code: 'id', name: 'Bahasa Indonesia', nativeName: 'Bahasa Indonesia', country: 'ID', flag: 'ğŸ‡®ğŸ‡©' },
                        { code: 'ms', name: 'Bahasa Melayu', nativeName: 'Bahasa Melayu', country: 'MY', flag: 'ğŸ‡²ğŸ‡¾' },
                        { code: 'hi', name: 'à¤¹à¤¿à¤¨à¥à¤¦à¥€', nativeName: 'à¤¹à¤¿à¤¨à¥à¤¦à¥€', country: 'IN', flag: 'ğŸ‡®ğŸ‡³' },
                        { code: 'bn', name: 'à¦¬à¦¾à¦‚à¦²à¦¾', nativeName: 'à¦¬à¦¾à¦‚à¦²à¦¾', country: 'BD', flag: 'ğŸ‡§ğŸ‡©' },
                        { code: 'ur', name: 'Ø§Ø±Ø¯Ùˆ', nativeName: 'Ø§Ø±Ø¯Ùˆ', country: 'PK', flag: 'ğŸ‡µğŸ‡°' },
                        { code: 'fa', name: 'ÙØ§Ø±Ø³ÛŒ', nativeName: 'ÙØ§Ø±Ø³ÛŒ', country: 'IR', flag: 'ğŸ‡®ğŸ‡·' },
                        { code: 'am', name: 'áŠ áˆ›áˆ­áŠ›', nativeName: 'áŠ áˆ›áˆ­áŠ›', country: 'ET', flag: 'ğŸ‡ªğŸ‡¹' },
                        { code: 'sw', name: 'Kiswahili', nativeName: 'Kiswahili', country: 'KE', flag: 'ğŸ‡°ğŸ‡ª' },
                        { code: 'zu', name: 'isiZulu', nativeName: 'isiZulu', country: 'ZA', flag: 'ğŸ‡¿ğŸ‡¦' },
                        { code: 'af', name: 'Afrikaans', nativeName: 'Afrikaans', country: 'ZA', flag: 'ğŸ‡¿ğŸ‡¦' },
                        { code: 'tl', name: 'Filipino', nativeName: 'Filipino', country: 'PH', flag: 'ğŸ‡µğŸ‡­' },
                        { code: 'my', name: 'á€™á€¼á€”á€ºá€™á€¬', nativeName: 'á€™á€¼á€”á€ºá€™á€¬', country: 'MM', flag: 'ğŸ‡²ğŸ‡²' },
                        { code: 'km', name: 'ááŸ’á˜áŸ‚áš', nativeName: 'ááŸ’á˜áŸ‚áš', country: 'KH', flag: 'ğŸ‡°ğŸ‡­' },
                        { code: 'ne', name: 'à¤¨à¥‡à¤ªà¤¾à¤²à¥€', nativeName: 'à¤¨à¥‡à¤ªà¤¾à¤²à¥€', country: 'NP', flag: 'ğŸ‡³ğŸ‡µ' }
                    ];
                    
                    this.currentLanguage = 'he'; // Hebrew as default
                    this.storageKey = 'userLanguagePreference';
                    this.translations = this.getTranslations();
                    this.init();
                }

                init() {
                    // Check for saved preference
                    const savedLanguage = localStorage.getItem(this.storageKey);
                    if (savedLanguage && this.isValidLanguage(savedLanguage)) {
                        this.currentLanguage = savedLanguage;
                    } else {
                        // Try to detect language based on browser settings
                        this.detectLanguage();
                    }
                    
                    // Render language selector
                    this.renderLanguageSelector();
                    
                    // Set up event listeners
                    this.bindEvents();
                    
                    // Apply the language
                    this.applyLanguage();
                }

                isValidLanguage(languageCode) {
                    return this.languages.some(lang => lang.code === languageCode);
                }

                detectLanguage() {
                    // First check browser language
                    const browserLang = navigator.language || navigator.userLanguage;
                    const shortLang = browserLang.split('-')[0];
                    
                    if (this.isValidLanguage(shortLang)) {
                        this.currentLanguage = shortLang;
                        return;
                    }
                    
                    // If browser language not supported, try country detection
                    this.detectCountryAndLanguage();
                }

                async detectCountryAndLanguage() {
                    try {
                        // Using a free geo-location API to detect country
                        const response = await fetch('https://ipapi.co/json/');
                        const data = await response.json();
                        
                        if (data && data.country_code) {
                            // Find language that matches the country
                            const countryLanguage = this.languages.find(lang => 
                                lang.country === data.country_code
                            );
                            
                            if (countryLanguage) {
                                this.currentLanguage = countryLanguage.code;
                            }
                        }
                    } catch (error) {
                        console.warn('Could not detect country/language:', error);
                        // Fall back to Hebrew as default
                        this.currentLanguage = 'he';
                    }
                }

                renderLanguageSelector() {
                    const languageList = document.getElementById('languageList');
                    if (!languageList) return;
                    
                    languageList.innerHTML = '';
                    
                    this.languages.forEach(lang => {
                        const li = document.createElement('li');
                        li.dataset.code = lang.code;
                        
                        if (lang.code === this.currentLanguage) {
                            li.classList.add('selected');
                        }
                        
                        // Create flag element
                        const flagSpan = document.createElement('span');
                        flagSpan.className = 'flag-icon';
                        flagSpan.textContent = lang.flag;
                        
                        // Create text element
                        const textSpan = document.createElement('span');
                        textSpan.textContent = `${lang.nativeName} (${lang.name})`;
                        
                        li.appendChild(flagSpan);
                        li.appendChild(textSpan);
                        
                        languageList.appendChild(li);
                    });
                    
                    // Update current language display
                    const currentLang = this.languages.find(lang => lang.code === this.currentLanguage);
                    if (currentLang) {
                        document.getElementById('currentLanguage').textContent = currentLang.nativeName;
                    }
                }

                bindEvents() {
                    const toggleBtn = document.getElementById('languageToggle');
                    const dropdown = document.getElementById('languageDropdown');
                    const searchInput = document.getElementById('languageSearch');
                    
                    if (toggleBtn) {
                        toggleBtn.addEventListener('click', (e) => {
                            e.stopPropagation();
                            dropdown.classList.toggle('open');
                        });
                    }
                    
                    // Close dropdown when clicking outside
                    document.addEventListener('click', (e) => {
                        if (!e.target.closest('.language-selector')) {
                            dropdown.classList.remove('open');
                        }
                    });
                    
                    // Language selection
                    document.getElementById('languageList').addEventListener('click', (e) => {
                        const li = e.target.closest('li');
                        if (li) {
                            const languageCode = li.dataset.code;
                            this.setLanguage(languageCode);
                            dropdown.classList.remove('open');
                        }
                    });
                    
                    // Search functionality
                    if (searchInput) {
                        searchInput.addEventListener('input', (e) => {
                            this.filterLanguages(e.target.value);
                        });
                    }
                }

                filterLanguages(searchTerm) {
                    const languageItems = document.querySelectorAll('#languageList li');
                    searchTerm = searchTerm.toLowerCase();
                    
                    languageItems.forEach(item => {
                        const text = item.textContent.toLowerCase();
                        if (text.includes(searchTerm)) {
                            item.style.display = '';
                        } else {
                            item.style.display = 'none';
                        }
                    });
                }

                setLanguage(languageCode) {
                    if (!this.isValidLanguage(languageCode)) return;
                    
                    this.currentLanguage = languageCode;
                    
                    // Save preference
                    localStorage.setItem(this.storageKey, languageCode);
                    
                    // Update UI
                    this.renderLanguageSelector();
                    
                    // Apply language
                    this.applyLanguage();
                    
                    // Trigger event for other components
                    window.dispatchEvent(new CustomEvent('languageChanged', {
                        detail: { language: languageCode }
                    }));
                }

                applyLanguage() {
                    // Set language attribute
                    document.documentElement.lang = this.currentLanguage;
                    
                    // Set text direction based on language
                    if (['he', 'ar', 'fa', 'ur'].includes(this.currentLanguage)) {
                        document.documentElement.dir = 'rtl';
                    } else {
                        document.documentElement.dir = 'ltr';
                    }
                    
                    // Apply translations
                    this.applyTranslations();
                }

                getTranslations() {
                    return {
                        he: {
                            cookieTitle: '×× ×—× ×• ××¢×¨×™×›×™× ××ª ×¤×¨×˜×™×•×ª×›×',
                            cookieDescription: '×× ×—× ×• ××©×ª××©×™× ×‘×¢×•×’×™×•×ª ×›×“×™ ×œ×©×¤×¨ ××ª ×—×•×•×™×™×ª ×”×’×œ×™×©×” ×©×œ×›×, ×œ× ×ª×— ×ª×¢×‘×•×¨×”, ×•×œ×”×ª××™× ×ª×•×›×Ÿ. × ×™×ª×Ÿ ×œ×‘×—×•×¨ ××™×œ×• ×¢×•×’×™×•×ª ×œ×§×‘×œ:',
                            essentialLabel: '×¢×•×’×™×•×ª ×—×™×•× ×™×•×ª (×—×•×‘×” ×ª××™×“)',
                            analyticsLabel: '×¢×•×’×™×•×ª ×× ×œ×™×˜×™×§×” (×¢×•×–×¨×•×ª ×œ× ×• ×œ×©×¤×¨ ××ª ×”××ª×¨)',
                            marketingLabel: '×¢×•×’×™×•×ª ×©×™×•×•×§ (×”×ª×××” ××™×©×™×ª ×©×œ ×¤×¨×¡×•××•×ª)',
                            warningText: '×”×¢×¨×”: ×”×©×‘×ª×ª ×¢×•×’×™×•×ª ××¡×•×™××•×ª ×¢×œ×•×œ×” ×œ×”×©×¤×™×¢ ×¢×œ ×“×™×•×§ ×”×ª×›×•× ×•×ª ×”××•×ª×××•×ª ××™×©×™×ª ×•×‘×™×¦×•×¢×™ ×”××ª×¨.',
                            acceptAll: '××™×©×•×¨ Ø§Ù„ÙƒÙ„',
                            acceptSelected: '××™×©×•×¨ × ×‘×—×¨×™×',
                            rejectAll: '×“×—×™×™×” Ø§Ù„ÙƒÙ„',
                            welcomeText: '×‘×¨×•×›×™× ×”×‘××™× ×œ××ª×¨× ×•',
                            introText: '×–×” ×“×£ ×”×“×’××” ×œ××ª×¨ ×¢× ×ª×¨×’×•× ×œ×¨×‘×•×ª ×©×¤×•×ª',
                            cookieStatus: '××¦×‘ ×¢×•×’×™×•×ª: ×œ× × ×§×‘×¢'
                        },
                        en: {
                            cookieTitle: 'We value your privacy',
                            cookieDescription: 'We use cookies to enhance your browsing experience, analyze traffic, and personalize content. You can choose which cookies to accept:',
                            essentialLabel: 'Essential (always required)',
                            analyticsLabel: 'Analytics (help us improve our site)',
                            marketingLabel: 'Marketing (personalize ads)',
                            warningText: 'Note: Disabling certain cookies may affect the accuracy of personalized features and site performance.',
                            acceptAll: 'Accept All',
                            acceptSelected: 'Accept Selected',
                            rejectAll: 'Reject All',
                            welcomeText: 'Welcome to our website',
                            introText: 'This is a demo page for a multi-language website',
                            cookieStatus: 'Cookie status: Not set'
                        },
                        es: {
                            cookieTitle: 'Valoramos su privacidad',
                            cookieDescription: 'Utilizamos cookies para mejorar su experiencia de navegaciÃ³n, analizar el trÃ¡fico y personalizar el contenido. Puede elegir quÃ© cookies aceptar:',
                            essentialLabel: 'Esenciales (siempre requeridas)',
                            analyticsLabel: 'AnalÃ­ticas (nos ayudan a mejorar el sitio)',
                            marketingLabel: 'Marketing (personalizar anuncios)',
                            warningText: 'Nota: Deshabilitar ciertas cookies puede afectar la precisiÃ³n de las funciones personalizadas y el rendimiento del sitio.',
                            acceptAll: 'Aceptar todo',
                            acceptSelected: 'Aceptar seleccionados',
                            rejectAll: 'Rechazar todo',
                            welcomeText: 'Bienvenido a nuestro sitio web',
                            introText: 'Esta es una pÃ¡gina de demostraciÃ³n para un sitio web multilingÃ¼e',
                            cookieStatus: 'Estado de cookies: No establecido'
                        },
                        fr: {
                            cookieTitle: 'Nous respectons votre vie privÃ©e',
                            cookieDescription: 'Nous utilisons des cookies pour amÃ©liorer votre expÃ©rience de navigation, analyser le trafic et personnaliser le contenu. Vous pouvez choisir les cookies Ã  accepter :',
                            essentialLabel: 'Essentiels (toujours nÃ©cessaires)',
                            analyticsLabel: 'Analytiques (nous aident Ã  amÃ©liorer le site)',
                            marketingLabel: 'Marketing (personnaliser les publicitÃ©s)',
                            warningText: 'Remarque : DÃ©sactiver certains cookies peut affecter la prÃ©cision des fonctionnalitÃ©s personnalisÃ©es et les performances du site.',
                            acceptAll: 'Tout accepter',
                            acceptSelected: 'Accepter la sÃ©lection',
                            rejectAll: 'Tout rejeter',
                            welcomeText: 'Bienvenue sur notre site web',
                            introText: "Ceci est une page de dÃ©monstration d'un site multilingue",
                            cookieStatus: 'Statut des cookies : Non dÃ©fini'
                        },
                        ar: {
                            cookieTitle: 'Ù†Ø­Ù† Ù†Ù‚Ø¯Ø± Ø®ØµÙˆØµÙŠØªÙƒ',
                            cookieDescription: 'Ù†Ø³ØªØ®Ø¯Ù… Ù…Ù„ÙØ§Øª ØªØ¹Ø±ÙŠÙ Ø§Ù„Ø§Ø±ØªØ¨Ø§Ø· Ù„ØªØ­Ø³ÙŠÙ† ØªØ¬Ø±Ø¨Ø© Ø§Ù„ØªØµÙØ­ Ø§Ù„Ø®Ø§ØµØ© Ø¨ÙƒØŒ ÙˆØªØ­Ù„ÙŠÙ„ Ø­Ø±ÙƒØ© Ø§Ù„Ù…Ø±ÙˆØ±ØŒ ÙˆØªØ®ØµÙŠØµ Ø§Ù„Ù…Ø­ØªÙˆÙ‰. ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ø®ØªÙŠØ§Ø± Ù…Ù„ÙØ§Øª ØªØ¹Ø±ÙŠÙ Ø§Ù„Ø§Ø±ØªØ¨Ø§Ø· Ø§Ù„ØªÙŠ ØªÙ‚Ø¨Ù„Ù‡Ø§:',
                            essentialLabel: 'Ø¶Ø±ÙˆØ±ÙŠØ© (Ù…Ø·Ù„ÙˆØ¨Ø© Ø¯Ø§Ø¦Ù…Ø§Ù‹)',
                            analyticsLabel: 'ØªØ­Ù„ÙŠÙ„ÙŠØ© (ØªØ³Ø§Ø¹Ø¯Ù†Ø§ ÙÙŠ ØªØ­Ø³ÙŠÙ† Ø§Ù„Ù…ÙˆÙ‚Ø¹)',
                            marketingLabel: 'ØªØ³ÙˆÙŠÙ‚ÙŠØ© (ØªØ®ØµÙŠØµ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª)',
                            warningText: 'Ù…Ù„Ø§Ø­Ø¸Ø©: Ù‚Ø¯ ÙŠØ¤Ø¯ÙŠ ØªØ¹Ø·ÙŠÙ„ Ø¨Ø¹Ø¶ Ù…Ù„ÙØ§Øª ØªØ¹Ø±ÙŠÙ Ø§Ù„Ø§Ø±ØªØ¨Ø§Ø· Ø¥Ù„Ù‰ Ø§Ù„ØªØ£Ø«ÙŠØ± Ø¹Ù„Ù‰ Ø¯Ù‚Ø© Ø§Ù„Ù…ÙŠØ²Ø§Øª Ø§Ù„Ù…Ø®ØµØµØ© ÙˆØ£Ø¯Ø§Ø¡ Ø§Ù„Ù…ÙˆÙ‚Ø¹.',
                            acceptAll: 'Ù‚Ø¨ÙˆÙ„ Ø§Ù„ÙƒÙ„',
                            acceptSelected: 'Ù‚Ø¨ÙˆÙ„ Ø§Ù„Ù…Ø­Ø¯Ø¯Ø©',
                            rejectAll: 'Ø±ÙØ¶ Ø§Ù„ÙƒÙ„',
                            welcomeText: 'Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨ÙƒÙ… ÙÙŠ Ù…ÙˆÙ‚Ø¹Ù†Ø§',
                            introText: 'Ù‡Ø°Ù‡ ØµÙØ­Ø© ØªÙˆØ¶ÙŠØ­ÙŠØ© Ù„Ù…ÙˆÙ‚Ø¹ ÙˆÙŠØ¨ Ù…ØªØ¹Ø¯Ø¯ Ø§Ù„Ù„ØºØ§Øª',
                            cookieStatus: 'Ø­Ø§Ù„Ø© Ù…Ù„ÙØ§Øª ØªØ¹Ø±ÙŠÙ Ø§Ù„Ø§Ø±ØªØ¨Ø§Ø·: ØºÙŠØ± Ù…Ø­Ø¯Ø¯Ø©'
                        },
                        ru: {
                            cookieTitle: 'ĞœÑ‹ Ñ†ĞµĞ½Ğ¸Ğ¼ Ğ²Ğ°ÑˆÑƒ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ´ĞµĞ½Ñ†Ğ¸Ğ°Ğ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ',
                            cookieDescription: 'ĞœÑ‹ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµĞ¼ Ñ„Ğ°Ğ¹Ğ»Ñ‹ cookie Ğ´Ğ»Ñ ÑƒĞ»ÑƒÑ‡ÑˆĞµĞ½Ğ¸Ñ Ğ²Ğ°ÑˆĞµĞ³Ğ¾ Ğ¾Ğ¿Ñ‹Ñ‚Ğ° Ğ¿Ñ€Ğ¾ÑĞ¼Ğ¾Ñ‚Ñ€Ğ°, Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ° Ñ‚Ñ€Ğ°Ñ„Ğ¸ĞºĞ° Ğ¸ Ğ¿ĞµÑ€ÑĞ¾Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸ ĞºĞ¾Ğ½Ñ‚ĞµĞ½Ñ‚Ğ°. Ğ’Ñ‹ Ğ¼Ğ¾Ğ¶ĞµÑ‚Ğµ Ğ²Ñ‹Ğ±Ñ€Ğ°Ñ‚ÑŒ, ĞºĞ°ĞºĞ¸Ğµ Ñ„Ğ°Ğ¹Ğ»Ñ‹ cookie Ğ¿Ñ€Ğ¸Ğ½Ğ¸Ğ¼Ğ°Ñ‚ÑŒ:',
                            essentialLabel: 'ĞĞµĞ¾Ğ±Ñ…Ğ¾Ğ´Ğ¸Ğ¼Ñ‹Ğµ (Ğ²ÑĞµĞ³Ğ´Ğ° Ñ‚Ñ€ĞµĞ±ÑƒÑÑ‚ÑÑ)',
                            analyticsLabel: 'ĞĞ½Ğ°Ğ»Ğ¸Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ (Ğ¿Ğ¾Ğ¼Ğ¾Ğ³Ğ°ÑÑ‚ Ğ½Ğ°Ğ¼ ÑƒĞ»ÑƒÑ‡ÑˆĞ¸Ñ‚ÑŒ ÑĞ°Ğ¹Ñ‚)',
                            marketingLabel: 'ĞœĞ°Ñ€ĞºĞµÑ‚Ğ¸Ğ½Ğ³Ğ¾Ğ²Ñ‹Ğµ (Ğ¿ĞµÑ€ÑĞ¾Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ñ€ĞµĞºĞ»Ğ°Ğ¼Ñƒ)',
                            warningText: 'ĞŸÑ€Ğ¸Ğ¼ĞµÑ‡Ğ°Ğ½Ğ¸Ğµ: ĞÑ‚ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ Ğ¾Ğ¿Ñ€ĞµĞ´ĞµĞ»ĞµĞ½Ğ½Ñ‹Ñ… Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ² cookie Ğ¼Ğ¾Ğ¶ĞµÑ‚ Ğ¿Ğ¾Ğ²Ğ»Ğ¸ÑÑ‚ÑŒ Ğ½Ğ° Ñ‚Ğ¾Ñ‡Ğ½Ğ¾ÑÑ‚ÑŒ Ğ¿ĞµÑ€ÑĞ¾Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ñ… Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¹ Ğ¸ Ğ¿Ñ€Ğ¾Ğ¸Ğ·Ğ²Ğ¾Ğ´Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ ÑĞ°Ğ¹Ñ‚Ğ°.',
                            acceptAll: 'ĞŸÑ€Ğ¸Ğ½ÑÑ‚ÑŒ Ğ²ÑĞµ',
                            acceptSelected: 'ĞŸÑ€Ğ¸Ğ½ÑÑ‚ÑŒ Ğ²Ñ‹Ğ±Ñ€Ğ°Ğ½Ğ½Ñ‹Ğµ',
                            rejectAll: 'ĞÑ‚ĞºĞ»Ğ¾Ğ½Ğ¸Ñ‚ÑŒ Ğ²ÑĞµ',
                            welcomeText: 'Ğ”Ğ¾Ğ±Ñ€Ğ¾ Ğ¿Ğ¾Ğ¶Ğ°Ğ»Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ½Ğ° Ğ½Ğ°Ñˆ ÑĞ°Ğ¹Ñ‚',
                            introText: 'Ğ­Ñ‚Ğ¾ Ğ´ĞµĞ¼Ğ¾Ğ½ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ğ¾Ğ½Ğ½Ğ°Ñ ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ğ° Ğ´Ğ»Ñ Ğ¼Ğ½Ğ¾Ğ³Ğ¾ÑĞ·Ñ‹Ñ‡Ğ½Ğ¾Ğ³Ğ¾ Ğ²ĞµĞ±-ÑĞ°Ğ¹Ñ‚Ğ°',
                            cookieStatus: 'Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ² cookie: ĞĞµ ÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ»ĞµĞ½'
                        }
                    };
                }

                applyTranslations() {
                    const translations = this.translations[this.currentLanguage] || this.translations['he'];
                    
                    // Update cookie consent banner text
                    document.getElementById('cookieTitle').textContent = translations.cookieTitle || '';
                    document.getElementById('cookieDescription').textContent = translations.cookieDescription || '';
                    document.getElementById('essentialLabel').textContent = translations.essentialLabel || '';
                    document.getElementById('analyticsLabel').textContent = translations.analyticsLabel || '';
                    document.getElementById('marketingLabel').textContent = translations.marketingLabel || '';
                    document.getElementById('warningText').textContent = translations.warningText || '';
                    document.getElementById('acceptAll').textContent = translations.acceptAll || 'Accept All';
                    document.getElementById('acceptSelected').textContent = translations.acceptSelected || 'Accept Selected';
                    document.getElementById('rejectAll').textContent = translations.rejectAll || 'Reject All';
                    
                    // Update content text
                    document.getElementById('welcomeText').textContent = translations.welcomeText || '';
                    document.getElementById('introText').textContent = translations.introText || '';
                    
                    // Update cookie status if consent exists
                    const consentManager = window.cookieConsentManager;
                    if (consentManager) {
                        const consent = consentManager.getConsent();
                        if (consent) {
                            consentManager.updateCookieStatus(consent);
                        }
                    }
                }
            }

            // Initialize when DOM is loaded
            document.addEventListener('DOMContentLoaded', function() {
                window.cookieConsentManager = new CookieConsentManager();
                window.languageManager = new LanguageManager();
            });

            // Utility functions
            window.getCurrentLanguage = function() {
                return window.languageManager ? window.languageManager.currentLanguage : 'he';
            };

            window.getCookieConsent = function() {
                const consent = localStorage.getItem('cookieConsentPreferences');
                return consent ? JSON.parse(consent) : null;
            };
        })();
    </script>
</body>
</html>